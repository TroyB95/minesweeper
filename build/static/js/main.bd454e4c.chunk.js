(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{20:function(n,e,t){n.exports=t.p+"static/media/bomb.1dacf089.svg"},21:function(n,e,t){n.exports=t.p+"static/media/skull.ef59c71c.svg"},23:function(n,e,t){n.exports=t(30)},28:function(n,e,t){},30:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(16),i=t.n(o),c=(t(28),t(3)),u=t(12),l=t.n(u),d=t(4),f="INCREMENT_COUNT",s="RESET_COUNT",m="UPDATE_FLAGGED_LOCATIONS",b="RESET_FLAGGED_LOCATIONS",p="UPDATE_GRID_OPTIONS",h="RESET_GRID_OPTIONS",v="INCREMENT_ROUND_LEVEL",g="RESET_ROUND_LEVEL",y={tilesTurntCounter:0,flaggedLocations:new Set,gameOptions:{bombCount:0,gridSize:0,difficulty:""},roundLevel:1},O=Object(r.createContext)({}),E=O.Provider,j=t(1),x=t(5);function w(n){for(var e=[],t=0;t<n;t++)e[t]=[];return e}function C(n){return Math.round(Math.random()*(n-1))}function k(n,e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(x.a)(e),a=0;a<n;a++)for(var o=0;o<n;o++)r[a][o]=t;return r}function S(n,e){var t=k(n,w(n));return function(n,e){for(var t,r,a=[];a.length<e;){var o=[C(n),C(n)];t=a,(r=o)&&t.toString().includes(r.toString())||a.push(o)}return a}(n,e).forEach((function(n){t[n[0]][n[1]]=!0})),function(n,e){for(var t=Object(x.a)(e),r=0;r<n;r++)for(var a=0;a<n;a++)!0===t[r][a]&&(r+1!==n&&!0!==t[r+1][a]&&(t[r+1][a]+=1),r+1!==n&&a+1!==n&&!0!==t[r+1][a+1]&&(t[r+1][a+1]+=1),a+1!==n&&!0!==t[r][a+1]&&(t[r][a+1]+=1),r-1!==-1&&a+1!==n&&!0!==t[r-1][a+1]&&(t[r-1][a+1]+=1),r-1!==-1&&!0!==t[r-1][a]&&(t[r-1][a]+=1),r-1!==-1&&a-1!==-1&&!0!==t[r-1][a-1]&&(t[r-1][a-1]+=1),a-1!==-1&&!0!==t[r][a-1]&&(t[r][a-1]+=1),r+1!==n&&a-1!==-1&&!0!==t[r+1][a-1]&&(t[r+1][a-1]+=1));return t}(n,t)}function T(n,e,t,r){var a=Object(x.a)(t);return a[n][e]=r,a}var L=t(2);function z(){var n=Object(L.a)(["\n  width: 80%;\n  height: 80%;\n"]);return z=function(){return n},n}function N(){var n=Object(L.a)(["\n  width: 100vw;\n  height: 100vh;\n\n  background: ",";\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return N=function(){return n},n}var D=j.c.div(N(),(function(n){return n.theme.colour.background})),F=j.c.div(z());function A(){var n=Object(L.a)(["\n  ","\n\n  font-size: ",";\n  width: ",";\n  height: ",";\n\n"]);return A=function(){return n},n}var R=j.c.button(A(),(function(n){var e=n.theme,t=e.font,r=e.colour;return"\n    font-family: ".concat(t.family,";\n    background: ").concat(r.mainFont,";\n   \n  text-transform: uppercase;\n  text-decoration: none;\n\n  cursor: pointer;\n\n  color: black;\n  padding: 4px;\n  border: 1px solid ").concat(r.background,";\n  display: inline-block;\n\n  transition: all 0.4s ease 0s;\n\n  :hover {\n    background: ").concat(r.tileTurnt,";\n    border-color: ").concat(r.tileTurnt,";\n    transition: all 0.4s ease 0s;\n  }\n   ")}),(function(n){return n.fontSize?n.fontSize:"12px"}),(function(n){return n.width?n.width:""}),(function(n){return n.height?n.height:""}));function U(){var n=Object(L.a)(["\n  ","\n  padding-left: 3px;\n"]);return U=function(){return n},n}function _(){var n=Object(L.a)(["\n  width: 80%;\n  height: 5%;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return _=function(){return n},n}var G=j.c.div(_()),M=j.c.h3(U(),(function(n){var e=n.theme,t=e.colour,r=e.font;return"\n    color: ".concat(t.mainFont,";\n    font-size: ").concat(r.medium,";\n")}));var I=function(n){var e=n.resetGame,t=Object(r.useContext)(O).state.roundLevel;return a.a.createElement(G,null,a.a.createElement(M,null,"Level: ",t),a.a.createElement(R,{onClick:function(){return e()}},"Restart"))};function B(){var n=Object(L.a)(["\n  ","\n\n  width: 100%;\n\n  text-align: center;\n\n  margin: 0;\n  margin-bottom: 18px;\n"]);return B=function(){return n},n}function P(){var n=Object(L.a)(["\n  ",'\n\n  width: 100%;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n\n  input[type="radio"] {\n    :hover {\n      cursor: pointer;\n    }\n\n    transform: scale(1.4);\n    margin-bottom: 8px;\n  }\n\n  label {\n    padding-left: 0.25em;\n  }\n\n  div {\n    flex: 1;\n\n    text-align: center;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n']);return P=function(){return n},n}function H(){var n=Object(L.a)(["\n  ",'\n\n  width: 80%;\n  height: 80%;\n\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n\n  input[type="submit"] {\n    ',"\n\n    border: none;\n    border-radius: 50%;\n\n    padding: 12px 24px;\n  }\n"]);return H=function(){return n},n}function V(){var n=Object(L.a)(["\n  ","\n\n  width: 50%;\n  height: 50%;\n\n  box-shadow: 10px 10px 14px -2px rgba(0, 0, 0, 0.75);\n  border-radius: 20px;\n\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return V=function(){return n},n}function W(){var n=Object(L.a)(["\n  ","\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return W=function(){return n},n}var J=j.c.div(W(),(function(n){var e=n.theme.colour;return"\n  background: ".concat(e.background,";\n")})),Y=j.c.div(V(),(function(n){var e=n.theme.colour;return"\n    background: ".concat(e.tileUnturnt,";\n    color: ").concat(e.secondaryFont,";\n  ")})),q=j.c.form(H(),(function(n){var e=n.theme.font;return"\n    font-size: ".concat(e.medium,";\n  ")}),(function(n){var e=n.theme,t=e.colour,r=e.font;return"\n    background: ".concat(t.mainFont,";\n    font-family: ").concat(r.family,";\n    font-size: ").concat(r.large,";\n\n    :hover:enabled {\n      background: ").concat(t.tileTurnt,";\n      cursor: pointer;\n    }\n  ")})),$=j.c.div(P(),(function(n){var e=n.theme,t=e.colour,r=e.font;return"\n    border: 1px dashed ".concat(t.mainFont,";\n     padding-bottom: ").concat(r.small,";\n    ")})),K=j.c.p(B(),(function(n){var e=n.theme.font;return"\n    padding-top: ".concat(e.small,";\n  ")}));var Q=function(n){var e=n.setStartTime,t=n.setOptionsSubmitted,o=Object(r.useState)({gridSize:0,bombCount:0,difficulty:""}),i=Object(c.a)(o,2),u=i[0],l=i[1],f=Object(r.useState)("basic"),s=Object(c.a)(f,2),m=s[0],b=s[1],h=Object(r.useContext)(O),v=h.dispatch,g=h.state.gameOptions.difficulty,y=u.gridSize,E=u.bombCount;function j(n){n&&v({type:p,payload:{difficulty:n.currentTarget.value}})}return a.a.createElement(J,null,a.a.createElement(Y,null,a.a.createElement(q,{onSubmit:function(n){return function(n,r,a){if("basic"===r)return n.preventDefault(),"easy"===a&&v({type:p,payload:{gridSize:10,bombCount:12}}),"medium"===a&&v({type:p,payload:{gridSize:15,bombCount:40}}),"hard"===a&&v({type:p,payload:{gridSize:25,bombCount:100}}),e(Date.now()),void t(!0);"advanced"===r&&(n.preventDefault(),v({type:p,payload:u}),e(Date.now()),t(!0))}(n,m,g)}},"basic"===m&&a.a.createElement($,null,a.a.createElement(K,null,"Please choose difficulty :"),a.a.createElement("div",null,a.a.createElement("input",{type:"radio",id:"easy",name:"difficulty",value:"easy",onChange:j}),a.a.createElement("label",{htmlFor:"easy"},"Easy")),a.a.createElement("div",null,a.a.createElement("input",{type:"radio",id:"medium",name:"difficulty",value:"medium",onChange:j}),a.a.createElement("label",{htmlFor:"medium"},"Medium")),a.a.createElement("div",null,a.a.createElement("input",{type:"radio",id:"hard",name:"difficulty",value:"hard",onChange:j}),a.a.createElement("label",{htmlFor:"hard"},"Hard"))),"advanced"===m&&a.a.createElement(a.a.Fragment,null,a.a.createElement($,null,a.a.createElement("label",null,"Grid size: "),a.a.createElement("input",{type:"number",min:"10",max:"50",value:y,onChange:function(n){l(Object(d.a)({},u,{gridSize:Number(n.target.value)}))}})),a.a.createElement($,null,a.a.createElement("label",null,"Number of bombs: "),a.a.createElement("input",{disabled:!(y>0),type:"number",min:Math.round(y*y*.1),max:Math.round(y*y*.5),value:E,onChange:function(n){l(Object(d.a)({},u,{bombCount:Number(n.target.value)}))}}))),a.a.createElement("input",{type:"submit",value:"START",disabled:function(n,e,t){return"basic"===n?""===e:"advanced"!==n||(0===t.gridSize||0===t.bombCount)}(m,g,u)})),a.a.createElement(R,{onClick:function(){return b("basic"===m?"advanced":"basic")}},"basic"===m?"Advanced":"Basic")))};function X(){var n=Object(L.a)(["\n  width: 50%;\n  height: 50%;\n\n  background: grey;\n\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  text-align: center;\n\n  padding-left: 15%;\n  padding-right: 15%;\n"]);return X=function(){return n},n}function Z(){var n=Object(L.a)(["\n  width: 100%;\n  height: 100%;\n\n  background-color: rgba(0, 0, 0, 0.8);\n\n  position: absolute;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Z=function(){return n},n}var nn=j.c.div(Z()),en=j.c.div(X()),tn=function(n){var e=n.resetGame,t=n.resetForNextLevel,o=n.type,i=n.playTime,c=Object(r.useContext)(O),u=c.dispatch,l=c.state,d=l.gameOptions,f=d.bombCount,s=d.gridSize,m=d.difficulty,b=l.roundLevel;return a.a.createElement(nn,null,a.a.createElement(en,null,"win"===o&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"CONGRATS YOU HAVE BEAT ROUND LEVEL ",b),a.a.createElement("h3",null,"Total time played: ",i," Seconds"),a.a.createElement(R,{fontSize:"18px",width:"144px",height:"42px",onClick:function(){return function(n,e,r){var a,o;switch(t(),r){case"easy":a=n+5,o=e+2;break;case"medium":a=n+10,o=e+4;break;case"hard":a=n+15,o=e+6}u({type:p,payload:{gridSize:o,bombCount:a}})}(f,s,m)}},"Next Level"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(R,{fontSize:"18px",width:"144px",height:"42px",onClick:function(){return e()}},"Restart")),"loss"===o&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"YOU HAVE LOST AT ",a.a.createElement("br",null),"ROUND LEVEL ",b,"!"),a.a.createElement("h3",null,"Total time played: ",i," Seconds"),a.a.createElement(R,{fontSize:"18px",width:"144px",height:"42px",onClick:function(){return e()}},"Play Again"))))},rn=t(6),an=t(7),on=t(9),cn=t(8),un=t(10);function ln(){var n=Object(L.a)(["\n  width: 90%;\n  height: 90%;\n"]);return ln=function(){return n},n}function dn(){var n=Object(L.a)(["\n  ","\n\n  width: ",";\n  height: 100%;\n\n  flex-grow: 1;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background: ",";\n\n  :hover {\n    cursor: ",";\n    background: ",";\n  }\n"]);return dn=function(){return n},n}var fn=j.c.div(dn(),(function(n){var e=n.theme,t=e.colour,r=e.font;return"\n  font-family: ".concat(r.bold,";\n  border-right:3px solid ").concat(t.background,"; \n")}),(function(n){return 100/n.width+"%"}),(function(n){return n.backgroundColour}),(function(n){return n.pointer}),(function(n){return n.hoverColour})),sn=j.c.img(ln()),mn=t(20),bn=t.n(mn),pn=t(21),hn=t.n(pn),vn=function(n){function e(){return Object(rn.a)(this,e),Object(on.a)(this,Object(cn.a)(e).apply(this,arguments))}return Object(un.a)(e,n),Object(an.a)(e,[{key:"showImage",value:function(n){return"bomb"===n?a.a.createElement(sn,{alt:"Dynamite sticks with timer",src:bn.a}):"flag"===n?a.a.createElement(sn,{alt:"Black flag with skull and crosbones on",src:hn.a}):n}},{key:"render",value:function(){var n=this.props,e=n.onClick,t=n.onContextMenu,r=n.width,o=n.backgroundColour,i=n.hoverColour,c=n.pointer,u=n.renderType;return a.a.createElement(fn,{backgroundColour:o,hoverColour:i,pointer:c,width:r,onClick:e,onContextMenu:t},this.showImage(u))}}]),e}(r.Component);function gn(){var n=Object(L.a)(["\n  display: flex;\n\n  width: 100%;\n  height: ",";\n\n  border-left: ",";\n  border-top: ",";\n\n  &:last-of-type {\n    border-bottom: ",";\n  }\n"]);return gn=function(){return n},n}var yn=j.c.div(gn(),(function(n){return 100/n.height+"%"}),(function(n){var e=n.theme.colour;return"3px solid ".concat(e.background)}),(function(n){var e=n.theme.colour;return"3px solid ".concat(e.background)}),(function(n){var e=n.theme.colour;return"3px solid ".concat(e.background)})),On=function(n){function e(){return Object(rn.a)(this,e),Object(on.a)(this,Object(cn.a)(e).apply(this,arguments))}return Object(un.a)(e,n),Object(an.a)(e,[{key:"shouldComponentUpdate",value:function(n,e){return console.log(n,e),console.log(this.props,this.state),!1}},{key:"render",value:function(){var n=this.props,e=n.height,t=n.children;return a.a.createElement(yn,{height:e},t)}}]),e}(r.Component);var En=function(){var n=Object(r.useContext)(j.a),e=Object(r.useContext)(O),t=e.dispatch,o=e.state,i=o.tilesTurntCounter,u=o.flaggedLocations,d=o.gameOptions,p=d.gridSize,y=d.bombCount,E=(o.roundLevel,Object(r.useState)([])),C=Object(c.a)(E,2),L=C[0],z=C[1],N=Object(r.useState)(!1),A=Object(c.a)(N,2),R=A[0],U=A[1],_=Object(r.useState)([]),G=Object(c.a)(_,2),M=G[0],B=G[1],P=Object(r.useState)(0),H=Object(c.a)(P,2),V=H[0],W=H[1],J=Object(r.useState)(!1),Y=Object(c.a)(J,2),q=(Y[0],Y[1]),$=Object(r.useState)(""),K=Object(c.a)($,2),X=K[0],Z=K[1],nn=Object(r.useState)(0),en=Object(c.a)(nn,2),rn=en[0],an=en[1],on=Object(r.useState)(0),cn=Object(c.a)(on,2),un=cn[0],ln=cn[1];function dn(n,e,r){if(u&&u.has("".concat(n,",").concat(e))){var a=new Set(u);return a.delete("".concat(n,",").concat(e)),t({type:m,payload:a})}if("right"===r){var o=new Set(u);return o.add("".concat(n,",").concat(e)),t({type:m,payload:o})}}function fn(n,e,r,a){if(!0!==M[e][r]){dn(e,r,"left");var o=function(n,e,t,r,a){var o=Object(x.a)(t),i=0,c=r[n][e];return c>0&&(o[n][e]=!0,i++),0===c&&function n(e,t){var c=r[e][t];if(0===c){if(o[e][t]=!0,i+=1,e+1!==a){var u=e+1;!0!==o[u][t]&&n(u,t)}if(e+1!==a&&t+1!==a){var l=e+1,d=t+1;!0!==o[l][d]&&n(l,d)}if(t+1!==a){var f=t+1;!0!==o[e][f]&&n(e,f)}if(e-1>=0&&t+1!==a){var s=e-1,m=t+1;!0!==o[s][m]&&n(s,m)}if(e-1>=0){var b=e-1;!0!==o[b][t]&&n(b,t)}if(e-1>=0&&t-1>=0){var p=e-1,h=t-1;!0!==o[p][h]&&n(p,h)}if(t-1>=0){var v=t-1;!0!==o[e][v]&&n(e,v)}if(e+1!==a&&t-1>=0){var g=e+1,y=t-1;!0!==o[g][y]&&n(g,y)}}if(c>0)return o[e][t]=!0,void(i+=1)}(n,e),{modifiedTrackingArr:o,numberOfTilesTurnt:i}}(e,r,M,L,p);if(!0===a){var i=Math.round((Date.now()-rn)/1e3);ln(i),setTimeout((function(){Z("loss")}),500)}B(o.modifiedTrackingArr),t({type:f,payload:o.numberOfTilesTurnt})}}function sn(){t({type:s}),t({type:b}),t({type:h}),t({type:g}),z([]),U(!1),B([]),W(0),Z(""),q(!1)}function mn(){t({type:s}),t({type:b}),t({type:v}),z([]),B([]),W(0),q(!1)}function bn(n,e,t,r){return!0===n[t][r]?!0===e?"bomb":e:"flag"===n[t][r]?"flag":void 0}return Object(r.useEffect)((function(){z(S(p,y)),B(k(p,w(p),!1)),W(p*p-y),"win"===X&&Z("")}),[y,p,R]),Object(r.useEffect)((function(){if(R&&function(n,e,t,r){return n>=e&&t.size===r}(i,V,u,y)){var n=Math.round((Date.now()-rn)/1e3);ln(n),Z("win")}}),[y,u,V,R,i,rn]),a.a.createElement(D,null,!R&&a.a.createElement(Q,{setOptionsSubmitted:U,setStartTime:an}),R&&a.a.createElement(a.a.Fragment,null,a.a.createElement(I,{resetGame:sn}),a.a.createElement(F,null,L.map((function(e,t){return a.a.createElement(On,{key:l()("grid-row-"),height:p},e.map((function(e,r){return a.a.createElement(vn,{onClick:function(n){return fn(0,t,r,e)},onContextMenu:function(n){return function(n,e,t){return n.preventDefault(),"flag"===M[e][t]?(B(T(e,t,M,!1)),void dn(e,t,"right")):!0!==M[e][t]?(B(T(e,t,M,"flag")),void dn(e,t,"right")):void 0}(n,t,r)},key:l()("grid-square-"),width:p,backgroundColour:!0===M[t][r]?n.colour.tileTurnt:n.colour.tileUnturnt,hoverColour:!0===M[t][r]?"":n.colour.darkHover,pointer:!0===M[t][r]?"":"pointer",renderType:bn(M,e,t,r)})})))})))),"win"===X&&a.a.createElement(tn,{resetGame:sn,resetForNextLevel:mn,type:"win",playTime:un}),"loss"===X&&a.a.createElement(tn,{resetGame:sn,resetForNextLevel:mn,type:"loss",playTime:un}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jn={colour:{tileUnturnt:"#19647E",tileTurnt:"#28AFB0",darkHover:"#145064",background:"#37392E",mainFont:"#DDCECD",secondaryFont:"#EEE5E5"},font:{small:"16px",medium:"24px",large:"32px",family:"HandWritten",bold:"ClearBold"}},xn=function(n){var e=n.children;return a.a.createElement(j.b,{theme:jn},e)};i.a.render(a.a.createElement((function(n){var e=n.children,t=Object(r.useReducer)((function(n,e){switch(e.type){case f:return Object(d.a)({},n,{tilesTurntCounter:n.tilesTurntCounter+(e.payload?e.payload:1)});case s:return Object(d.a)({},n,{tilesTurntCounter:0});case m:return Object(d.a)({},n,{flaggedLocations:e.payload});case b:return Object(d.a)({},n,{flaggedLocations:new Set});case p:return Object(d.a)({},n,{gameOptions:Object(d.a)({},n.gameOptions,{},e.payload)});case h:return Object(d.a)({},n,{gameOptions:{bombCount:0,gridSize:0,difficulty:""}});case v:return Object(d.a)({},n,{roundLevel:n.roundLevel+=1});case g:return Object(d.a)({},n,{roundLevel:1});default:throw new Error}}),y),o=Object(c.a)(t,2),i=o[0],u=o[1];return a.a.createElement(E,{value:{state:i,dispatch:u}},e)}),null,a.a.createElement(xn,null,a.a.createElement(En,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.bd454e4c.chunk.js.map